<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Rentabilidade IPCA+</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <h1>Simulador de Rentabilidade IPCA+</h1>
        </header>

        <main class="app-content">
            <section class="estrategias-section">
                <div class="estrategia-box estrategia-curta">
                    <h2>Estratégia Curta</h2>
                    <div class="input-group">
                        <label for="taxaCurto">Taxa IPCA+ (% a.a.):</label>
                        <input type="number" id="taxaCurto" value="7.00">
                    </div>
                    <div class="input-group">
                        <label for="prazoCurta">Prazo (anos):</label>
                        <input type="number" id="prazoCurta" value="2">
                    </div>
                </div>

                <div class="estrategia-box estrategia-longa">
                    <h2>Estratégia Longa</h2>
                    <div class="input-group">
                        <label for="taxaLongo">Taxa IPCA+ (% a.a.):</label>
                        <input type="number" id="taxaLongo" value="6.00">
                    </div>
                    <div class="input-group">
                        <label for="prazoLongo">Prazo (anos):</label>
                        <input type="number" id="prazoLongo" value="9">
                    </div>
                </div>
            </section>

            <section class="premissas-section">
                <h2>Premissas de Mercado (% a.a.)</h2>
                <div class="premissas-grid">
                    </div>
            </section>

            <button id="simular" class="button-primary">Simular</button>

            <section class="resultado-section">
                <h2>Resultado da Simulação</h2>
                <canvas id="grafico"></canvas>
            </section>

            <section class="resumo-section" id="resumo">
                </section>

            <section class="narrativa-section" id="narrativa">
                </section>

            <section class="erro-section" id="relatorio-erros">
                </section>
        </main>

        <footer class="app-footer">
            <p>© 2025 Simulador Financeiro</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // ... (seu JavaScript permanece o mesmo, exceto a parte de criar os sliders de premissas)

            const anosPremissas = [2025, 2026, 2027, 2028];
            const defaultPremissas = {
                2025: { ipca: 5.00, cdi: 15.00 },
                2026: { ipca: 4.50, cdi: 12.00 },
                2027: { ipca: 4.00, cdi: 10.00 },
                2028: { ipca: 4.00, cdi: 9.00 },
            };

            const premissasGrid = document.querySelector('.premissas-grid');
            if (premissasGrid) {
                anosPremissas.forEach(ano => {
                    const bloco = document.createElement('div');
                    bloco.className = 'premissa-ano';
                    bloco.innerHTML = `
                        <h3>${ano}</h3>
                        <div class="premissa-item">
                            <label for="ipca-${ano}">IPCA:</label>
                            <span id="ipca-val-${ano}">${defaultPremissas[ano].ipca.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}%</span>
                            <input type="range" min="0" max="20" step="0.1" value="${defaultPremissas[ano].ipca}" id="ipca-${ano}" />
                        </div>
                        <div class="premissa-item">
                            <label for="cdi-${ano}">CDI:</label>
                            <span id="cdi-val-${ano}">${defaultPremissas[ano].cdi.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}%</span>
                            <input type="range" min="0" max="20" step="0.1" value="${defaultPremissas[ano].cdi}" id="cdi-${ano}" />
                        </div>
                    `;
                    premissasGrid.appendChild(bloco);

                    document.getElementById(`ipca-${ano}`).addEventListener('input', (e) => {
                        document.getElementById(`ipca-val-${ano}`).innerText = parseFloat(e.target.value).toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + '%';
                    });
                    document.getElementById(`cdi-${ano}`).addEventListener('input', (e) => {
                        document.getElementById(`cdi-val-${ano}`).innerText = parseFloat(e.target.value).toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + '%';
                    });
                });
            } else {
                registrarErro("Erro: Container de premissas (grid) não encontrado.");
            }

            // ... (o restante do seu JavaScript)
        });
    </script>
</body>
</html>